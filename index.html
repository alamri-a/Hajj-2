
<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<title>قياس مزدوج لإجراءات الحجاج</title>
<link href="style.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body><button onclick="clearData()" style="margin: 10px;">البدء من جديد</button>
<h2>قياس زمن إنهاء إجراءات الحاج - 1</h2>
<div class="section">
<button class="big-button start-button" onclick="startTimer(1)">▶ بدء</button>
<button class="big-button stop-button" onclick="stopTimer(1)">■ إنهاء</button>
<div class="timer" id="timer1">00:00</div>
<div class="input-section">
<label>هل الحاج مسجل له بصمة سابقًا؟</label>
<input checked="" name="fingerprint1" type="radio" value="نعم"/> نعم
    <input name="fingerprint1" type="radio" value="لا"/> لا
  </div>
<input id="delayReason1" placeholder="سبب التأخير (إن وجد)" type="text"/>
</div>
<h2>قياس زمن إنهاء إجراءات الحاج - 2</h2>
<div class="section">
<button class="big-button start-button" onclick="startTimer(2)">▶ بدء</button>
<button class="big-button stop-button" onclick="stopTimer(2)">■ إنهاء</button>
<div class="timer" id="timer2">00:00</div>
<div class="input-section">
<label>هل الحاج مسجل له بصمة سابقًا؟</label>
<input checked="" name="fingerprint2" type="radio" value="نعم"/> نعم
    <input name="fingerprint2" type="radio" value="لا"/> لا
  </div>
<input id="delayReason2" placeholder="سبب التأخير (إن وجد)" type="text"/>
</div>
<h2 style="text-align: right; margin-top: 40px;">
  سجل الحجاج
  <button onclick="saveTableAsPDF()" style="font-size: 16px; padding: 5px 10px; margin-right: 10px; vertical-align: middle;">
    💾 حفظ PDF
  </button>
</h2>
<table id="logTable">
<thead>
<tr>
<th>التعداد</th>
<th>التاريخ</th>
<th>الساعة</th>
<th>المدة بالثواني</th>
<th>مسجل له بصمة سابقًا؟</th>
<th>سبب التأخير</th>
</tr>
</thead>
<tbody></tbody>
<tfoot>
<tr style="background-color: #eee; font-weight: bold;">
<td colspan="7" id="unifiedAverageRow">
        متوسط الزمن العام: 0 ثانية — له بصمة: 0 ثانية — ماله بصمة: 0 ثانية
      </td>
</tr>
<tr><td colspan="6" id="avgStats" style="background-color: #f0f0f0;">متوسط الزمن العام: 0 ثانية — مسجل لهم بصمه: 0 ثانية — غير مسجل لهم: 0 ثانية</td></tr><tr><td colspan="6" id="percentStats" style="background-color: #f0f0f0;">نسبة المسجل لهم بصمة: 0% | نسبة غير المسجل لهم: 0%</td></tr></tfoot>
</table>
<script src="script.js"></script>
<div class="export-buttons"><button onclick="saveAsExcel()">حفظ Excel</button><button onclick="window.print()">طباعة</button></div></body>
</html>
